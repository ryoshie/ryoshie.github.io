<!--html>
  <style>
    :host {
      display: block;
      width: 100vw !important;
      height: 100vh !important;
      background-color: #ddd;
    }
  </style>
  <script src="script/mod.js" type="module"></script>
  <body>
    <embed-pdf src="files/file.pdf#2"></embed-pdf>
  </body>
</html-->

<!doctype html>
<html>
<head>
  <meta charset="utf-8" />
  <title>PDF.js minimal render</title>
  <style>
    #container { width: min(900px, 100%); margin: 0 auto; padding: 16px; }
    canvas { width: 100%; height: auto; display: block; margin-bottom: 24px; }
  </style>
  <!-- Load PDF.js -->
  <script src="https://unpkg.com/pdfjs-dist@4.6.82/build/pdf.js"></script>
</head>
<body>
  <div id="container"></div>
  <script>
    // Point the worker to the correct file (must match the version you loaded)
    pdfjsLib.GlobalWorkerOptions.workerSrc =
      "https://unpkg.com/pdfjs-dist@4.6.82/build/pdf.worker.js";

    const url = "files/file.pdf"; // same-origin path recommended

    pdfjsLib.getDocument(url).promise.then(async (pdf) => {
      const container = document.getElementById("container");
      for (let p = 1; p <= pdf.numPages; p++) {
        const page = await pdf.getPage(p);
        const viewport = page.getViewport({ scale: 1.5 });

        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");
        canvas.width = viewport.width;
        canvas.height = viewport.height;
        container.appendChild(canvas);

        await page.render({ canvasContext: ctx, viewport }).promise;
      }
    });
  </script>
</body>
</html>

